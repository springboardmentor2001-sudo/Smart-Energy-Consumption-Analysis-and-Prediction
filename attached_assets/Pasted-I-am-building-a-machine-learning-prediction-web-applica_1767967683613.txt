I am building a machine learning prediction web application.

Currently, users manually enter input values (like Temperature, Humidity, Square Footage, Building Type, etc.) on an Upload & Predict page.

I want to add a new feature using Speech Input, with the following requirements:

ğŸ¯ Feature Overview

Add a Toggle Switch on the Upload & Predict page:

OFF (default): Manual form input (existing behavior)

ON: Voice-based input using speech

When the toggle is ON:

Navigate the user to a Speech Input Page

Allow the user to speak input values naturally
Example:

â€œThe temperature is 22 degrees, humidity is 38 percent, square footage is 1700, and building type is residentialâ€

Convert speech â†’ text using Web Speech API (or browser-supported speech recognition)

Send the transcribed text to Gemini API for structured data extraction

ğŸ§  Geminiâ€™s Role (Important)

Gemini must:

Extract required ML input parameters from natural language

Return clean JSON only

Handle missing values gracefully

Validate numeric vs categorical fields

Expected Gemini Output Format (STRICT):
{
  "Temperature": 22,
  "Humidity": 38,
  "SquareFootage": 1700,
  "BuildingType": "Residential"
}


No explanations, no markdown, no extra text.

âš™ï¸ Backend Flow

Receive extracted JSON from Gemini

Validate against ML model input schema

Pass values to the trained ML model

Generate prediction

Send prediction response to frontend

ğŸ–¥ï¸ Frontend Requirements

Toggle switch UI (manual â†” speech)

Speech recording start/stop button

Live transcript display

Prediction result display

Error handling:

Speech not detected

Missing values

Gemini parsing errors

ğŸ§© Tech Stack Constraints

Frontend: React (preferred) or plain JavaScript

Backend: Node.js + Express

ML Model: already trained and loaded

Gemini API used only for information extraction, not prediction

Code should be modular, readable, and production-ready

ğŸ“¦ Deliverables Expected

Frontend code for:

Toggle switch

Speech input page

Transcript handling

Prediction display

Backend code for:

Gemini prompt construction

Response parsing

ML prediction API

Gemini prompt used internally for extraction

Clear explanation of data flow (speech â†’ text â†’ Gemini â†’ ML â†’ result)

ğŸš€ Final Goal

User should be able to:

Toggle speech mode

Speak naturally

Get accurate ML predictions

Seamlessly switch back to manual input anytime