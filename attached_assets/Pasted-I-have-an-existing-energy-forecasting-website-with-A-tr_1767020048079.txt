I have an existing energy forecasting website with:

A trained XGBoost time-series forecasting model

A backend /api/forecast endpoint

A chatbot integrated into the UI

Currently, the chatbot returns predictions directly as text, which is not correct UX.

ğŸ¯ GOAL

Redesign the chatbot so that it acts as an interactive prediction assistant, not a calculator.

The chatbot should:

Guide the user step-by-step

Trigger the real forecasting API

Display predictions consistently across chatbot and dashboard

Explain predictions on demand

âœ… REQUIRED CHATBOT BEHAVIOR (STEP-BY-STEP)
1ï¸âƒ£ Chatbot entry point

The chatbot must display an explicit option:

â€œğŸ“Š Predict Energy Consumptionâ€

This must be a clickable action, not free text.

2ï¸âƒ£ Step-by-step guided input (inside chatbot)

Once the user clicks Predict Energy Consumption, the chatbot should:

Step 1 â€“ Ask for date

Use a date picker (future dates allowed)

Step 2 â€“ Ask for hour

Dropdown or slider (0â€“23)

Step 3 â€“ Optional inputs (if supported by model)

Temperature (numeric)

Humidity (numeric)

âš ï¸ The chatbot must NOT ask:

HVAC ON/OFF

Lighting ON/OFF

Occupancy

3ï¸âƒ£ Backend trigger (CRITICAL)

After collecting inputs, the chatbot must:

Call the same /api/forecast endpoint used by the dashboard

Send a clean JSON payload:

{
  "date": "2026-12-01",
  "hour": 12,
  "temperature": 30
}


âŒ The chatbot must NOT generate predictions on its own
âŒ The chatbot must NOT hardcode formulas

4ï¸âƒ£ Unified prediction handling

The API response should be:

{
  "predicted_energy": 67.3,
  "unit": "kWh",
  "confidence": "Â±1.2",
  "explanation_id": "forecast_20261201_12"
}


The chatbot should:

Display the numeric prediction

Store the result in a shared application state

ğŸ“Š DASHBOARD SYNC (VERY IMPORTANT)

When a prediction is generated via chatbot:

âœ… The same prediction must automatically appear in:

Dashboard graphs

Prediction history table

Time-series visualization

Chatbot and dashboard must share the same prediction store.

ğŸ§  EXPLANATION MODE (NEW FEATURE)

The chatbot must also show:

â€œğŸ§  Explain this predictionâ€

When clicked:

The chatbot explains:

Which historical patterns influenced the result

Time-of-day impact

Trend vs average behavior

Explanation must be read-only

Explanation must NOT re-call the model

This explanation should also be viewable:

Inside chatbot

On a separate â€œPrediction Detailsâ€ page

ğŸ” STATE MANAGEMENT RULES

Prediction logic lives ONLY in backend

Chatbot = UI + orchestration layer

Dashboard = visualization layer

All three use the same prediction ID

ğŸš« STRICT RULES

âŒ Chatbot must not hallucinate predictions
âŒ Chatbot must not bypass backend
âŒ Chatbot must not accept appliance states
âŒ Chatbot must not alter model inputs

âœ… FINAL UX RESULT

User experience should be:

Click Predict Energy in chatbot

Answer guided questions

Get prediction

See same prediction in dashboard

Ask chatbot to explain it